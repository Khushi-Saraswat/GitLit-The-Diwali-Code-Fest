name: 🎇 Welcome Message – GitLit

on:
  pull_request:
    types: [opened]

permissions:
  pull-requests: write
  contents: read

jobs:
  welcome:
    name: Greet First-Time Contributor
    runs-on: ubuntu-latest

    steps:
      # ✅ Step 1: Checkout (needed for context)
      - name: Checkout repository
        uses: actions/checkout@v3

      # ✅ Step 2: Install GitHub CLI
      - name: Setup GitHub CLI
        run: |
          sudo apt-get update -y
          sudo apt-get install -y gh

      # ✅ Step 3: Post a festive welcome comment
      - name: Send Welcome Message
        run: |
          echo "💬 Sending welcome message to PR #${{ github.event.pull_request.number }}"

          gh pr comment ${{ github.event.pull_request.number }} --body "🪔 **Welcome to GitLit – The Diwali Code Fest!** 🎆  

          Thank you for joining our open-source celebration of lights and logic ✨  
          Before we merge your pull request:  
          • Make sure your project files are inside the **\`submissions/\` folder** 📁  
          • Add a short **README.md** inside your submission if needed 📝  
          • Double-check filenames (no spaces, use lowercase preferred)  

          _When everything looks good, the Auto-Merge bot will light up your PR soon!_ 🔥  

          Happy coding & Happy Diwali from the **Microsoft Student Club PRPCEM × Global AI Amravati** 💫"
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
